{
	{$CERTS}
	{$DEBUG}

	order cache before rewrite

	log {
		level debug
		include http.log.access http.handlers.cache
	}

	cache {
		log_level debug

		# olric {
		# 	url olric:3320
		# }

		# etcd {
		# 	configuration {
		# 		Endpoints etcd1:2379 etcd2:2379 etcd3:2379
		# 		# AutoSyncInterval 1s
		# 		# DialTimeout 1s
		# 		# DialKeepAliveTime 1s
		# 		# DialKeepAliveTimeout 1s
		# 		# MaxCallSendMsgSize 10000000
		# 		# MaxCallRecvMsgSize 10000000
		# 		# Username john
		# 		# Password doe
		# 		# RejectOldCluster false
		# 		# PermitWithoutStream false
		# 	}
		# }

		# redis {
		# 	configuration {
		# 		Addr redis:6379
		# 		# Network platform
		# 		# Username user
		# 		# Password password
		# 		# DB 1
		# 		# MaxRetries 1
		# 		# MinRetryBackoff 5s
		# 		# MaxRetryBackoff 5s
		# 		# DialTimeout 5s
		# 		# ReadTimeout 5s
		# 		# WriteTimeout 5s
		# 		# PoolFIFO true
		# 		# PoolSize 99999
		# 		# PoolTimeout 10s
		# 		# MinIdleConns 100
		# 		# MaxIdleConns 100
		# 		# ConnMaxIdleTime 5s
		# 		# ConnMaxLifetime 5s
		# 	}
		# }
	}
}

:80 {
	cache
	log
	reverse_proxy app:80
}
